<div class="p-4 space-y-4">
  <h2 class="text-2xl font-bold text-center">ðŸšš Parcel Tracking History</h2>

  <div *ngIf="loading" class="text-center py-4">
    <mat-spinner color="primary"></mat-spinner>
  </div>

  <div *ngIf="!loading && trackingEntries.length === 0" class="text-center text-gray-500">
    No tracking history found.
  </div>

  <table mat-table [dataSource]="paginatedEntries" class="w-full mat-elevation-z8" *ngIf="!loading && paginatedEntries.length > 0">
    <!-- Columns stay the same -->
    <ng-container matColumnDef="parcelId">
      <th mat-header-cell *matHeaderCellDef> Parcel ID </th>
      <td mat-cell *matCellDef="let entry"> {{ entry.parcelId }} </td>
    </ng-container>

    <ng-container matColumnDef="location">
      <th mat-header-cell *matHeaderCellDef> Location </th>
      <td mat-cell *matCellDef="let entry"> {{ entry.location }} </td>
    </ng-container>

    <ng-container matColumnDef="note">
      <th mat-header-cell *matHeaderCellDef> Note </th>
      <td mat-cell *matCellDef="let entry"> {{ entry.note }} </td>
    </ng-container>

    <ng-container matColumnDef="timestamp">
      <th mat-header-cell *matHeaderCellDef> Date </th>
      <td mat-cell *matCellDef="let entry"> {{ entry.timestamp | date:'short' }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <div *ngIf="totalPages.length > 1" class="mt-6 flex justify-center flex-wrap gap-2">
    <button
      *ngFor="let page of totalPages"
      (click)="goToPage(page)"
      [ngClass]="{
        'bg-blue-600 text-white': currentPage === page,
        'bg-white text-blue-600 border border-blue-500': currentPage !== page
      }"
      class="px-3 py-1 text-sm rounded-full transition hover:bg-blue-500 hover:text-white"
    >
      {{ page }}
    </button>
  </div>
</div>
